{
  "connections": [
    {
      "dst_component": "MissionComputer",
      "dst_port": "autopilotInput",
      "src_component": "AutopilotModule",
      "src_port": "autopilotCmd"
    },
    {
      "dst_component": "Environment",
      "dst_port": "direction_command",
      "src_component": "MissionComputer",
      "src_port": "direction_command"
    },
    {
      "dst_component": "AutopilotModule",
      "dst_port": "currentOrientation",
      "src_component": "Environment",
      "src_port": "orientation"
    },
    {
      "dst_component": "AutopilotModule",
      "dst_port": "currentLocation",
      "src_component": "Environment",
      "src_port": "location"
    },
    {
      "dst_component": "AutopilotModule",
      "dst_port": "feedbackBus",
      "src_component": "Environment",
      "src_port": "flight_status"
    }
  ],
  "package": "Aircraft",
  "parts": {
    "AircraftComposition": {
      "attributes": {},
      "doc": "Top-level aircraft composition with functional subsystem instances.",
      "name": "AircraftComposition",
      "parts": [
        {
          "doc": null,
          "name": "autopilot",
          "target": "AutopilotModule",
          "target_def": {
            "attributes": {
              "comment": {
                "doc": null,
                "name": "comment",
                "type": null,
                "value": "\"uses waypoint tracking\""
              },
              "waypointCount": {
                "doc": null,
                "name": "waypointCount",
                "type": null,
                "value": "10"
              },
              "waypointX_km": {
                "doc": null,
                "name": "waypointX_km",
                "type": null,
                "value": "[0.0, 10.0, 20.0]"
              }
            },
            "doc": "F-16 autopilot, takes in sensor data and translates it into a equivalent hotas command.",
            "name": "AutopilotModule",
            "parts": [],
            "ports": [
              {
                "direction": "in",
                "doc": "Mission-computer flight status back into autopilot.",
                "name": "feedbackBus",
                "payload": "FlightStatusPacket",
                "payload_def": {
                  "attributes": {
                    "airspeed_mps": {
                      "doc": null,
                      "name": "airspeed_mps",
                      "type": "Real",
                      "value": null
                    },
                    "angle_of_attack_deg": {
                      "doc": null,
                      "name": "angle_of_attack_deg",
                      "type": "Real",
                      "value": null
                    },
                    "health_code": {
                      "doc": null,
                      "name": "health_code",
                      "type": "Integer",
                      "value": null
                    }
                  },
                  "doc": "Mission computer status feedback consumed by autonomy and analysis models.",
                  "name": "FlightStatusPacket"
                }
              },
              {
                "direction": "in",
                "doc": "Current local position from sensors",
                "name": "currentLocation",
                "payload": "PositionXYZ",
                "payload_def": {
                  "attributes": {
                    "x_km": {
                      "doc": null,
                      "name": "x_km",
                      "type": "Real",
                      "value": null
                    },
                    "y_km": {
                      "doc": null,
                      "name": "y_km",
                      "type": "Real",
                      "value": null
                    },
                    "z_km": {
                      "doc": null,
                      "name": "z_km",
                      "type": "Real",
                      "value": null
                    }
                  },
                  "doc": "Local navigation frame expressed in kilometers (x=North, y=East, z=Up).",
                  "name": "PositionXYZ"
                }
              },
              {
                "direction": "in",
                "doc": "Current attitude from sensors.",
                "name": "currentOrientation",
                "payload": "OrientationEuler",
                "payload_def": {
                  "attributes": {
                    "pitch_deg": {
                      "doc": null,
                      "name": "pitch_deg",
                      "type": "Real",
                      "value": null
                    },
                    "roll_deg": {
                      "doc": null,
                      "name": "roll_deg",
                      "type": "Real",
                      "value": null
                    },
                    "yaw_deg": {
                      "doc": null,
                      "name": "yaw_deg",
                      "type": "Real",
                      "value": null
                    }
                  },
                  "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
                  "name": "OrientationEuler"
                }
              },
              {
                "direction": "out",
                "doc": "HOTAS-equivalent command stream for mission computer blending.",
                "name": "autopilotCmd",
                "payload": "PilotCommand",
                "payload_def": {
                  "attributes": {
                    "mode_switch": {
                      "doc": null,
                      "name": "mode_switch",
                      "type": "Integer",
                      "value": null
                    },
                    "stick_pitch_norm": {
                      "doc": null,
                      "name": "stick_pitch_norm",
                      "type": "Real",
                      "value": null
                    },
                    "stick_roll_norm": {
                      "doc": null,
                      "name": "stick_roll_norm",
                      "type": "Real",
                      "value": null
                    }
                  },
                  "doc": "HOTAS-style control payload shared across control surfaces and mission computer consumers.",
                  "name": "PilotCommand"
                }
              },
              {
                "direction": "out",
                "doc": "Waypoint progression for logging and verification.",
                "name": "missionStatus",
                "payload": "MissionStatus",
                "payload_def": {
                  "attributes": {
                    "complete": {
                      "doc": null,
                      "name": "complete",
                      "type": "Boolean",
                      "value": null
                    },
                    "total_waypoints": {
                      "doc": null,
                      "name": "total_waypoints",
                      "type": "Integer",
                      "value": null
                    },
                    "waypoint_index": {
                      "doc": null,
                      "name": "waypoint_index",
                      "type": "Integer",
                      "value": null
                    }
                  },
                  "doc": "Waypoint-tracking status produced by the autopilot for logging and requirement evaluation.",
                  "name": "MissionStatus"
                }
              }
            ]
          }
        },
        {
          "doc": null,
          "name": "missionComputer",
          "target": "MissionComputer",
          "target_def": {
            "attributes": {},
            "doc": "F-16C/D mission computer blending pilot HOTAS inputs with fly-by-wire control laws and stores management.",
            "name": "MissionComputer",
            "parts": [],
            "ports": [
              {
                "direction": "in",
                "doc": "Autopilot command bundle using same HOTAS signal structure.",
                "name": "autopilotInput",
                "payload": "PilotCommand",
                "payload_def": {
                  "attributes": {
                    "mode_switch": {
                      "doc": null,
                      "name": "mode_switch",
                      "type": "Integer",
                      "value": null
                    },
                    "stick_pitch_norm": {
                      "doc": null,
                      "name": "stick_pitch_norm",
                      "type": "Real",
                      "value": null
                    },
                    "stick_roll_norm": {
                      "doc": null,
                      "name": "stick_roll_norm",
                      "type": "Real",
                      "value": null
                    }
                  },
                  "doc": "HOTAS-style control payload shared across control surfaces and mission computer consumers.",
                  "name": "PilotCommand"
                }
              },
              {
                "direction": "out",
                "doc": "Command how to alter the current velocity vector, pith, yaw, roll",
                "name": "direction_command",
                "payload": "OrientationEuler",
                "payload_def": {
                  "attributes": {
                    "pitch_deg": {
                      "doc": null,
                      "name": "pitch_deg",
                      "type": "Real",
                      "value": null
                    },
                    "roll_deg": {
                      "doc": null,
                      "name": "roll_deg",
                      "type": "Real",
                      "value": null
                    },
                    "yaw_deg": {
                      "doc": null,
                      "name": "yaw_deg",
                      "type": "Real",
                      "value": null
                    }
                  },
                  "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
                  "name": "OrientationEuler"
                }
              }
            ]
          }
        },
        {
          "doc": null,
          "name": "environment",
          "target": "Environment",
          "target_def": {
            "attributes": {},
            "doc": "Tracking position and velocities of the aircraft and feeds the sensors",
            "name": "Environment",
            "parts": [],
            "ports": [
              {
                "direction": "in",
                "doc": null,
                "name": "direction_command",
                "payload": "OrientationEuler",
                "payload_def": {
                  "attributes": {
                    "pitch_deg": {
                      "doc": null,
                      "name": "pitch_deg",
                      "type": "Real",
                      "value": null
                    },
                    "roll_deg": {
                      "doc": null,
                      "name": "roll_deg",
                      "type": "Real",
                      "value": null
                    },
                    "yaw_deg": {
                      "doc": null,
                      "name": "yaw_deg",
                      "type": "Real",
                      "value": null
                    }
                  },
                  "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
                  "name": "OrientationEuler"
                }
              },
              {
                "direction": "out",
                "doc": "Feedback for simulated sensors",
                "name": "orientation",
                "payload": "OrientationEuler",
                "payload_def": {
                  "attributes": {
                    "pitch_deg": {
                      "doc": null,
                      "name": "pitch_deg",
                      "type": "Real",
                      "value": null
                    },
                    "roll_deg": {
                      "doc": null,
                      "name": "roll_deg",
                      "type": "Real",
                      "value": null
                    },
                    "yaw_deg": {
                      "doc": null,
                      "name": "yaw_deg",
                      "type": "Real",
                      "value": null
                    }
                  },
                  "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
                  "name": "OrientationEuler"
                }
              },
              {
                "direction": "out",
                "doc": null,
                "name": "location",
                "payload": "PositionXYZ",
                "payload_def": {
                  "attributes": {
                    "x_km": {
                      "doc": null,
                      "name": "x_km",
                      "type": "Real",
                      "value": null
                    },
                    "y_km": {
                      "doc": null,
                      "name": "y_km",
                      "type": "Real",
                      "value": null
                    },
                    "z_km": {
                      "doc": null,
                      "name": "z_km",
                      "type": "Real",
                      "value": null
                    }
                  },
                  "doc": "Local navigation frame expressed in kilometers (x=North, y=East, z=Up).",
                  "name": "PositionXYZ"
                }
              },
              {
                "direction": "out",
                "doc": null,
                "name": "flight_status",
                "payload": "FlightStatusPacket",
                "payload_def": {
                  "attributes": {
                    "airspeed_mps": {
                      "doc": null,
                      "name": "airspeed_mps",
                      "type": "Real",
                      "value": null
                    },
                    "angle_of_attack_deg": {
                      "doc": null,
                      "name": "angle_of_attack_deg",
                      "type": "Real",
                      "value": null
                    },
                    "health_code": {
                      "doc": null,
                      "name": "health_code",
                      "type": "Integer",
                      "value": null
                    }
                  },
                  "doc": "Mission computer status feedback consumed by autonomy and analysis models.",
                  "name": "FlightStatusPacket"
                }
              }
            ]
          }
        }
      ],
      "ports": []
    },
    "AutopilotModule": {
      "attributes": {
        "comment": {
          "doc": null,
          "name": "comment",
          "type": null,
          "value": "\"uses waypoint tracking\""
        },
        "waypointCount": {
          "doc": null,
          "name": "waypointCount",
          "type": null,
          "value": "10"
        },
        "waypointX_km": {
          "doc": null,
          "name": "waypointX_km",
          "type": null,
          "value": "[0.0, 10.0, 20.0]"
        }
      },
      "doc": "F-16 autopilot, takes in sensor data and translates it into a equivalent hotas command.",
      "name": "AutopilotModule",
      "parts": [],
      "ports": [
        {
          "direction": "in",
          "doc": "Mission-computer flight status back into autopilot.",
          "name": "feedbackBus",
          "payload": "FlightStatusPacket",
          "payload_def": {
            "attributes": {
              "airspeed_mps": {
                "doc": null,
                "name": "airspeed_mps",
                "type": "Real",
                "value": null
              },
              "angle_of_attack_deg": {
                "doc": null,
                "name": "angle_of_attack_deg",
                "type": "Real",
                "value": null
              },
              "health_code": {
                "doc": null,
                "name": "health_code",
                "type": "Integer",
                "value": null
              }
            },
            "doc": "Mission computer status feedback consumed by autonomy and analysis models.",
            "name": "FlightStatusPacket"
          }
        },
        {
          "direction": "in",
          "doc": "Current local position from sensors",
          "name": "currentLocation",
          "payload": "PositionXYZ",
          "payload_def": {
            "attributes": {
              "x_km": {
                "doc": null,
                "name": "x_km",
                "type": "Real",
                "value": null
              },
              "y_km": {
                "doc": null,
                "name": "y_km",
                "type": "Real",
                "value": null
              },
              "z_km": {
                "doc": null,
                "name": "z_km",
                "type": "Real",
                "value": null
              }
            },
            "doc": "Local navigation frame expressed in kilometers (x=North, y=East, z=Up).",
            "name": "PositionXYZ"
          }
        },
        {
          "direction": "in",
          "doc": "Current attitude from sensors.",
          "name": "currentOrientation",
          "payload": "OrientationEuler",
          "payload_def": {
            "attributes": {
              "pitch_deg": {
                "doc": null,
                "name": "pitch_deg",
                "type": "Real",
                "value": null
              },
              "roll_deg": {
                "doc": null,
                "name": "roll_deg",
                "type": "Real",
                "value": null
              },
              "yaw_deg": {
                "doc": null,
                "name": "yaw_deg",
                "type": "Real",
                "value": null
              }
            },
            "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
            "name": "OrientationEuler"
          }
        },
        {
          "direction": "out",
          "doc": "HOTAS-equivalent command stream for mission computer blending.",
          "name": "autopilotCmd",
          "payload": "PilotCommand",
          "payload_def": {
            "attributes": {
              "mode_switch": {
                "doc": null,
                "name": "mode_switch",
                "type": "Integer",
                "value": null
              },
              "stick_pitch_norm": {
                "doc": null,
                "name": "stick_pitch_norm",
                "type": "Real",
                "value": null
              },
              "stick_roll_norm": {
                "doc": null,
                "name": "stick_roll_norm",
                "type": "Real",
                "value": null
              }
            },
            "doc": "HOTAS-style control payload shared across control surfaces and mission computer consumers.",
            "name": "PilotCommand"
          }
        },
        {
          "direction": "out",
          "doc": "Waypoint progression for logging and verification.",
          "name": "missionStatus",
          "payload": "MissionStatus",
          "payload_def": {
            "attributes": {
              "complete": {
                "doc": null,
                "name": "complete",
                "type": "Boolean",
                "value": null
              },
              "total_waypoints": {
                "doc": null,
                "name": "total_waypoints",
                "type": "Integer",
                "value": null
              },
              "waypoint_index": {
                "doc": null,
                "name": "waypoint_index",
                "type": "Integer",
                "value": null
              }
            },
            "doc": "Waypoint-tracking status produced by the autopilot for logging and requirement evaluation.",
            "name": "MissionStatus"
          }
        }
      ]
    },
    "Environment": {
      "attributes": {},
      "doc": "Tracking position and velocities of the aircraft and feeds the sensors",
      "name": "Environment",
      "parts": [],
      "ports": [
        {
          "direction": "in",
          "doc": null,
          "name": "direction_command",
          "payload": "OrientationEuler",
          "payload_def": {
            "attributes": {
              "pitch_deg": {
                "doc": null,
                "name": "pitch_deg",
                "type": "Real",
                "value": null
              },
              "roll_deg": {
                "doc": null,
                "name": "roll_deg",
                "type": "Real",
                "value": null
              },
              "yaw_deg": {
                "doc": null,
                "name": "yaw_deg",
                "type": "Real",
                "value": null
              }
            },
            "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
            "name": "OrientationEuler"
          }
        },
        {
          "direction": "out",
          "doc": "Feedback for simulated sensors",
          "name": "orientation",
          "payload": "OrientationEuler",
          "payload_def": {
            "attributes": {
              "pitch_deg": {
                "doc": null,
                "name": "pitch_deg",
                "type": "Real",
                "value": null
              },
              "roll_deg": {
                "doc": null,
                "name": "roll_deg",
                "type": "Real",
                "value": null
              },
              "yaw_deg": {
                "doc": null,
                "name": "yaw_deg",
                "type": "Real",
                "value": null
              }
            },
            "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
            "name": "OrientationEuler"
          }
        },
        {
          "direction": "out",
          "doc": null,
          "name": "location",
          "payload": "PositionXYZ",
          "payload_def": {
            "attributes": {
              "x_km": {
                "doc": null,
                "name": "x_km",
                "type": "Real",
                "value": null
              },
              "y_km": {
                "doc": null,
                "name": "y_km",
                "type": "Real",
                "value": null
              },
              "z_km": {
                "doc": null,
                "name": "z_km",
                "type": "Real",
                "value": null
              }
            },
            "doc": "Local navigation frame expressed in kilometers (x=North, y=East, z=Up).",
            "name": "PositionXYZ"
          }
        },
        {
          "direction": "out",
          "doc": null,
          "name": "flight_status",
          "payload": "FlightStatusPacket",
          "payload_def": {
            "attributes": {
              "airspeed_mps": {
                "doc": null,
                "name": "airspeed_mps",
                "type": "Real",
                "value": null
              },
              "angle_of_attack_deg": {
                "doc": null,
                "name": "angle_of_attack_deg",
                "type": "Real",
                "value": null
              },
              "health_code": {
                "doc": null,
                "name": "health_code",
                "type": "Integer",
                "value": null
              }
            },
            "doc": "Mission computer status feedback consumed by autonomy and analysis models.",
            "name": "FlightStatusPacket"
          }
        }
      ]
    },
    "MissionComputer": {
      "attributes": {},
      "doc": "F-16C/D mission computer blending pilot HOTAS inputs with fly-by-wire control laws and stores management.",
      "name": "MissionComputer",
      "parts": [],
      "ports": [
        {
          "direction": "in",
          "doc": "Autopilot command bundle using same HOTAS signal structure.",
          "name": "autopilotInput",
          "payload": "PilotCommand",
          "payload_def": {
            "attributes": {
              "mode_switch": {
                "doc": null,
                "name": "mode_switch",
                "type": "Integer",
                "value": null
              },
              "stick_pitch_norm": {
                "doc": null,
                "name": "stick_pitch_norm",
                "type": "Real",
                "value": null
              },
              "stick_roll_norm": {
                "doc": null,
                "name": "stick_roll_norm",
                "type": "Real",
                "value": null
              }
            },
            "doc": "HOTAS-style control payload shared across control surfaces and mission computer consumers.",
            "name": "PilotCommand"
          }
        },
        {
          "direction": "out",
          "doc": "Command how to alter the current velocity vector, pith, yaw, roll",
          "name": "direction_command",
          "payload": "OrientationEuler",
          "payload_def": {
            "attributes": {
              "pitch_deg": {
                "doc": null,
                "name": "pitch_deg",
                "type": "Real",
                "value": null
              },
              "roll_deg": {
                "doc": null,
                "name": "roll_deg",
                "type": "Real",
                "value": null
              },
              "yaw_deg": {
                "doc": null,
                "name": "yaw_deg",
                "type": "Real",
                "value": null
              }
            },
            "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
            "name": "OrientationEuler"
          }
        }
      ]
    }
  },
  "port_definitions": {
    "FlightStatusPacket": {
      "attributes": {
        "airspeed_mps": {
          "doc": null,
          "name": "airspeed_mps",
          "type": "Real",
          "value": null
        },
        "angle_of_attack_deg": {
          "doc": null,
          "name": "angle_of_attack_deg",
          "type": "Real",
          "value": null
        },
        "health_code": {
          "doc": null,
          "name": "health_code",
          "type": "Integer",
          "value": null
        }
      },
      "doc": "Mission computer status feedback consumed by autonomy and analysis models.",
      "name": "FlightStatusPacket"
    },
    "MissionStatus": {
      "attributes": {
        "complete": {
          "doc": null,
          "name": "complete",
          "type": "Boolean",
          "value": null
        },
        "total_waypoints": {
          "doc": null,
          "name": "total_waypoints",
          "type": "Integer",
          "value": null
        },
        "waypoint_index": {
          "doc": null,
          "name": "waypoint_index",
          "type": "Integer",
          "value": null
        }
      },
      "doc": "Waypoint-tracking status produced by the autopilot for logging and requirement evaluation.",
      "name": "MissionStatus"
    },
    "OrientationEuler": {
      "attributes": {
        "pitch_deg": {
          "doc": null,
          "name": "pitch_deg",
          "type": "Real",
          "value": null
        },
        "roll_deg": {
          "doc": null,
          "name": "roll_deg",
          "type": "Real",
          "value": null
        },
        "yaw_deg": {
          "doc": null,
          "name": "yaw_deg",
          "type": "Real",
          "value": null
        }
      },
      "doc": "Air vehicle orientation expressed as Euler angles in degrees.",
      "name": "OrientationEuler"
    },
    "PilotCommand": {
      "attributes": {
        "mode_switch": {
          "doc": null,
          "name": "mode_switch",
          "type": "Integer",
          "value": null
        },
        "stick_pitch_norm": {
          "doc": null,
          "name": "stick_pitch_norm",
          "type": "Real",
          "value": null
        },
        "stick_roll_norm": {
          "doc": null,
          "name": "stick_roll_norm",
          "type": "Real",
          "value": null
        }
      },
      "doc": "HOTAS-style control payload shared across control surfaces and mission computer consumers.",
      "name": "PilotCommand"
    },
    "PositionXYZ": {
      "attributes": {
        "x_km": {
          "doc": null,
          "name": "x_km",
          "type": "Real",
          "value": null
        },
        "y_km": {
          "doc": null,
          "name": "y_km",
          "type": "Real",
          "value": null
        },
        "z_km": {
          "doc": null,
          "name": "z_km",
          "type": "Real",
          "value": null
        }
      },
      "doc": "Local navigation frame expressed in kilometers (x=North, y=East, z=Up).",
      "name": "PositionXYZ"
    }
  },
  "requirements": [
    {
      "identifier": "Requirement_REQ_Control",
      "text": "Provide full HOTAS pilot controls, digital fly-by-wire channels, and autopilot hold modes."
    },
    {
      "identifier": "Requirement_REQ_Waypoints_1",
      "text": "It should support loading a number of waypoints that it should fly to in order."
    }
  ]
}
